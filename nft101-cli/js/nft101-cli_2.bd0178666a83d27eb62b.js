(window.webpackJsonp=window.webpackJsonp||[]).push([["nft101-cli_2"],{"3Tn3":function(e,t,a){"use strict";var n=a("pZEK");t.a=class extends n.f{render(){return n.c.createElement("div",{className:"footer"},"Â©2021 NFTSwap")}}},"4G0K":function(e,t,a){(t=a("cFq8")(!1)).push([e.i,".income .balance-of{display:flex;align-items:center;justify-content:space-between}.income .balance-of h3{margin:0}.income .votes{border-bottom:solid 1px;padding-top:20px}.income .list{border-right:solid 1px #000;border-right:solid 1px #000}.income .list .list_item{display:flex;border-bottom:solid 1px #000;display:flex;align-items:center}.income .list .list_item .txt{display:flex;align-items:center}.income .list .list_item .txt div{border-right:solid 1px #000}\n",""]),e.exports=t},Jh0H:function(e,t,a){"use strict";a.r(t);var n=a("pZEK"),c=a("ZjpE"),l=a("3Tn3"),r=a("JQfh"),s=a("csPc"),i=(a("cG5C"),a("hzeW")),o=a("n/9H");t.default=class extends n.b{constructor(){super(...arguments),this.state={balanceOf:BigInt(0),canRelease:BigInt(0),lockedItems:[],votes:[],orders:[],status:[]}}async triggerLoad(){await this._fetchData()}async _fetchData(){var e=r.g.addressNoJump(),t=await r.e.balanceOf(e),a=await r.h.canRelease(e),n=await r.e.lockedItems(e);console.log("canRelease",a),console.log("ledger.balanceOf(artifacts.vote_pool.address)",s.b(await r.e.balanceOf(r.h.contractAddress)));var c=[],l=[],i=[];for(var o of n){var d=await r.h.votesById(o.lockId),m=await r.c.bids(d.orderId),u=await r.c.orderStatus(d.orderId);c.push(d),l.push(m),i.push(u)}this.setState({balanceOf:t,canRelease:a,lockedItems:n,votes:c,orders:l,status:i})}async _Withdraw(){var e=r.g.addressNoJump();try{var{amount:t,ok:a}=await new Promise(e=>{o.a.prompt({text:"Input amount"},(t,a)=>e({amount:t,ok:a}))});if(!a)return;await i.a.show(),await r.e.withdraw(e,BigInt(t)*BigInt(1e18)),o.a.alert("Withdraw OK",()=>this._fetchData())}finally{i.a.close()}}async _CancelVote(e){try{await i.a.show(),await r.h.cancelVote(e),o.a.alert("Cancel Vote OK",()=>this._fetchData())}finally{i.a.close()}}async _tryRelease(){var e=r.g.addressNoJump();await r.h.tryRelease(e)}render(){var{balanceOf:e,lockedItems:t,orders:a,votes:i,status:o,canRelease:d}=this.state;return n.c.createElement("div",null,n.c.createElement(c.a,null),n.c.createElement("div",{className:"page_title"},"NFT101"),n.c.createElement("div",{className:"income"},n.c.createElement("div",{className:"balance-of"},n.c.createElement("h3",null,"BalanceOf(",s.b(e-d),") + Vote income(",s.b(d),") = ",s.b(e)," "),n.c.createElement("button",{onClick:()=>this._Withdraw()},"Withdraw")),n.c.createElement("div",{className:"balance-of"}),n.c.createElement("div",{className:"votes"},"Vote locks:"),n.c.createElement("div",{className:"list"},t.map((e,t)=>{var c=a[t],l=i[t],d=o[t];return n.c.createElement("div",{className:"list_item",key:t},n.c.createElement("div",{className:"txt"},n.c.createElement("div",null,"lockId: ",String(e.lockId)),n.c.createElement("div",null,"voteId: ",String(e.lockId)),n.c.createElement("div",null,"amount: ",s.b(e.amount)),n.c.createElement("div",null,"orderId: ",String(l.orderId)),n.c.createElement("div",null,"token: ",String(c.token)),n.c.createElement("div",null,"tokenId: ","0x"+c.tokenId.toString(16))),n.c.createElement(n.a,{to:`/details?token=${String(c.token)}&tokenId=${String(c.tokenId)}`},"Go"),d==r.a.DealDone?null:n.c.createElement("button",{onClick:()=>this._CancelVote(e.lockId)},"Cancel"))}))),n.c.createElement(l.a,null))}}},ZjpE:function(e,t,a){"use strict";var n=a("pZEK"),c=a("UKty");t.a=class extends n.f{render(){return n.c.createElement("div",{className:"nav"},n.c.createElement("div",{className:"left"},n.c.createElement(n.a,{to:"/"},n.c.createElement("img",{src:a("ma/0")}),"NFT Swap")),n.c.createElement("div",{className:"right"},n.c.createElement("div",null,n.c.createElement(n.a,{to:"/nft101"},"NFT 101")),n.c.createElement("div",null,n.c.createElement(n.a,{to:"/mynft"},"My NFT")),"eth"==c.platform?n.c.createElement("div",null,n.c.createElement(n.a,{to:"/income"},"Income")):null,n.c.createElement("div",null,n.c.createElement(n.a,{to:"/publish"},"Publish"))))}}},cG5C:function(e,t,a){var n=a("/sWS"),c=a("4G0K");"string"==typeof(c=c.__esModule?c.default:c)&&(c=[[e.i,c,""]]);var l={insert:"head",singleton:!1},r=(n(c,l),c.locals?c.locals:{});e.exports=r},csPc:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return r}));var n=a("UKty");function c(e,t){return e&&!function(e){return"0x0000000000000000000000000000000000000000"==e}(e)?e:t||"None"}function l(e){return e?(Number(e)/1e18).toFixed(2):"0.0"}function r(e){return e?(Number(e)/1e18*(Number(n.exchange_rate)||10)).toFixed(1):"0.0"}},hzeW:function(e,t,a){"use strict";var n=a("pZEK"),c=a("oI0y");t.a=class extends c.a{renderBody(){var{text:e}=this.props;return n.c.createElement("div",{className:"loading",ref:"root"},n.c.createElement("div",null,n.c.createElement("span",null,e||"Loading..")))}}},"ma/0":function(e,t,a){e.exports=a.p+"nft101-cli/res/logo.d027a62.jpeg"}}]);